<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <script src="../bower_components/webcomponentsjs/webcomponents-loader.js"></script>
    <link rel="import" href="../vaadin-development-mode-detector.html">

    <style>
      .yes {
        font-weight: bold;
        color: green;
      }
      .no {
        font-weight: bold;
        color: orange;
      }
    </style>
  </head>
  <body>
    <p id="text"></p>

    <script>
      function shouldReturnTrueInDevMode() {
        /** vaadin-dev-mode:start
        return true;
        vaadin-dev-mode:end **/
        return false;
      }

      function log(msg, state, iftrue, iffalse) {
        const cls = state ? 'yes' : 'no';
        const txt = msg + ': <b class="' + cls + '">' +
          (state ? iftrue : iffalse) + '</b><br><br>';
        window.text.innerHTML += txt;
      }

      function whenReady() {
        log("mode", window.Vaadin.developmentMode, "development", "production");

        const result = window.Vaadin.runIfDevelopmentMode(shouldReturnTrueInDevMode);
        log("runIfDevelopmentMode", result, "run", "ignored");
      }

      window.addEventListener('WebComponentsReady', whenReady);
    </script>
  </body>
</html>
